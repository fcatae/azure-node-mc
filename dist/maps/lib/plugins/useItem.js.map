{"version":3,"sources":["lib/plugins/useItem.js"],"names":[],"mappings":";;AAAA,IAAM,KAAK,GAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;AAC7E,IAAM,IAAI,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,CAAC;AACzE,IAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;;AAElC,MAAM,CAAC,OAAO,CAAC,MAAM,GAAC,UAAS,MAAM,EAAC,IAAI,EAC1C;AACE,QAAM,CAAC,OAAO,CAAC,EAAE,CAAC,aAAa,EAAC,YAAwC;qEAAP,EAAE;;QAAjC,SAAS,QAAT,SAAS;QAAC,QAAQ,QAAR,QAAQ;QAAC,QAAQ,QAAR,QAAQ;;AAC3D,QAAI,SAAS,IAAI,CAAC,CAAC,IAAI,QAAQ,CAAC,OAAO,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,OAAO;AAClF,QAAM,IAAI,GAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;AACpC,QAAM,iBAAiB,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;AACvE,QAAM,eAAe,GAAG,iBAAiB,CAAC,SAAS,CAAC,CAAC;AACrD,QAAM,QAAQ,GAAG,iBAAiB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;;AAEzD,QAAG,IAAI,CAAC,IAAI,IAAE,iBAAiB,EAC7B,MAAM,CAAC,mBAAmB,CAAC,iBAAiB,EAAC,eAAe,EAAC,QAAQ,CAAC,CAAC,KACpE,IAAG,IAAI,CAAC,IAAI,IAAE,WAAW,EAC5B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAC,MAAM,CAAC,KAAK,EAAC,QAAQ,CAAC,CAAC;GACtD,CAAC,CAAC;CACJ,CAAC;AACF,IAAM,iBAAiB,GAAC,CAAC,IAAI,IAAI,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAC,IAAI,IAAI,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EAAC,IAAI,IAAI,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAC,IAAI,IAAI,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EAAC,IAAI,IAAI,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC","file":"lib/plugins/useItem.js","sourcesContent":["const items=require(\"minecraft-data\")(require(\"flying-squid\").version).items;\nconst Item = require(\"prismarine-item\")(require(\"flying-squid\").version);\nconst Vec3 = require(\"vec3\").Vec3;\n\nmodule.exports.player=function(player,serv)\n{\n  player._client.on(\"block_place\",({direction,heldItem,location} = {}) => {\n    if (direction == -1 || heldItem.blockId == -1 || !items[heldItem.blockId]) return;\n    const item=Item.fromNotch(heldItem);\n    const referencePosition = new Vec3(location.x, location.y, location.z);\n    const directionVector = directionToVector[direction];\n    const position = referencePosition.plus(directionVector);\n\n    if(item.name==\"flint_and_steel\")\n      player.use_flint_and_steel(referencePosition,directionVector,position);\n    else if(item.name==\"spawn_egg\")\n      serv.spawnMob(item.metadata,player.world,position);\n  });\n};\nconst directionToVector=[new Vec3(0,-1,0),new Vec3(0,1,0),new Vec3(0,0,-1),new Vec3(0,0,1),new Vec3(-1,0,0),new Vec3(1,0,0)];"],"sourceRoot":"/source/"}