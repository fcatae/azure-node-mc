{"version":3,"sources":["lib/plugins/chest.js"],"names":[],"mappings":";;;;AAAA,IAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;;AAElC,MAAM,CAAC,OAAO,CAAC,MAAM,GAAC,UAAS,MAAM,EACrC;;;AACE,QAAM,CAAC,EAAE,CAAC,mBAAmB,EAAE,oBAAO,GAAG,EAAE,MAAM;QAGvC,EAAE,EACF,UAAU;;;;eAHd,MAAM,CAAC,SAAS;;;;;;;;;;2CAED,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC;;;AAAnD,YAAE;;2CACiB,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;;AAAnF,oBAAU;;gBACZ,EAAE,IAAI,EAAE,CAAA;;;;;AACV,aAAG,CAAC,SAAS,GAAG,KAAK,CAAC;;eAClB,UAAU;;;;;;;;AAGd,gBAAM,CAAC,OAAO,CAAC,KAAK,CAAC,aAAa,EAAE;AAClC,oBAAQ,EAAE,GAAG;AACb,yBAAa,EAAE,iBAAiB;AAChC,uBAAW,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;AACpC,qBAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC;WACrB,CAAC,CAAC;AACH,gBAAM,EAAE,CAAC;;;;;;;;;;AAIX,oBAAU,CAAC,YAAK;AAAC,iCAAU;WAAC,EAAC,CAAC,CAAC,CAAC;;;;;;;GAGnC,CAAC,CAAC;CACJ,CAAC","file":"lib/plugins/chest.js","sourcesContent":["const Vec3 = require(\"vec3\").Vec3;\n\nmodule.exports.player=function(player)\n{\n  player.on('placeBlock_cancel', async (opt, cancel) => {\n    if (player.crouching) return;\n    try {\n      const id = await player.world.getBlockType(opt.reference);\n      const blockAbove = await player.world.getBlockType(opt.reference.plus(new Vec3(0, 1, 0)));\n      if (id == 54) {\n        opt.playSound = false;\n        if (blockAbove) {\n          return;\n        }\n        player._client.write(\"open_window\", {\n          windowId: 165,\n          inventoryType: \"minecraft:chest\",\n          windowTitle: JSON.stringify(\"Chest\"),\n          slotCount: 9 * 3 + 8 // 3 rows, make nicer later\n        });\n        cancel();\n      }\n    }\n    catch(err) {\n      setTimeout(() =>{throw err;},0);\n    }\n    \n  });\n};"],"sourceRoot":"/source/"}